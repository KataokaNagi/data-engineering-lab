<!-- tex script for md -->
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type="text/x-mathjax-config">
 MathJax.Hub.Config({
 tex2jax: {
 inlineMath: [['$', '$'] ],
 displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
 }
 });
</script>

# 週次報告書 2021年10月20日
AL18036 片岡 凪

## 1. 今回の報告会までに実施する予定だったこと
- 予備実験
    - データの前処理
    - ~~EvidenceとClaimの分類~~
    - ~~クラスタリングの実装~~
        - 手法を詰める
<!-- - ゲームカンファレンスの視聴とレポート作成 -->

## 2. 実施内容

### データの前処理
Excelの置換機能に長い計算時間がかかることや、大容量の処理データの差分を残したいという欲求から、**研究室PCにデータを移してLibreOfficeで放置処理**することにした。
<!-- 研究室PCを利用するにあたって、日本語利用の設定や、データダウンロードのためのファイヤーウォール設定の調査などを行った。 -->

嬉しい副産物として、LibreOfficeでは、Excelで数件見られた**4列以上に分化してしまうようなデータが見られなかった**。
この検証には空でないセルをカウントするCOUNTA関数を用いた。

また、**「最も短い本文」を抽出し、不自然に短い本文が存在しないことを確認した**。
この検証にはINDEX, MATCH, MIN, LEN関数を用いた。

次に、LibreOfficeの置換機能を用いて**\n, \r, \t を除去した。**
連続した2文字を除去する必要があるため、前処理の序盤に処理している。

続いて、**英数字・ピリオド・空白以外の文字の除去**を行う予定であり、これについて調査していた。
表計算の関数で行うか、VBAを用いるか、Pythonで処理するかで検討しており、より精度が高くて簡単な方法を起用する予定である。

その後、LibreOfficeの置換機能を用いて**連続した空白とピリオド前後の空白を除去**する予定である。
最後に、英語の小文字化を行う。

処理している際、**英語以外の言語が長く入っていることに気付き、除去すると本文が数十文字削れてしまうデータが散見された。**
**本文に占める割合が少ないため、大きな影響が出ないと仮定して処理を続けるが、今後精度向上などのために見直す可能性がある。**

## 3. 次回までに実施予定であること
- 予備実験
    - データの前処理
    - EvidenceとClaimの分類
    - クラスタリングの実装
        - 手法を詰める

## 4. メモ
- ツール選択の整理
    - 拡張子
        - .py
            - 複数のpyファイルの自動化が可能
            - VSCodeで楽
            - 夜通し回しておける
            - GPUのセットアップが大変
                - 経験しておきたい
        - .ipynb
            - Googleドライブで利用
            - ハード間の共有が容易
            - 逐次処理が楽
            - 回線依存で遅い
            - Githubの粒度が大きくなる？
                - 小さくできそうだが調査が面倒
            - コメントが綺麗
            - 学習プログラムに制限
    - ハード
        - ノートPC
            - 環境構築が楽
            - 環境構築で荒らしたくない
        - デスクトップPC
            - 環境構築が面倒
            - 環境構築で荒らしたくない
        - 研究室PC
            - 毎回ここに繋げばハードを選ばない
            - ラグが多少不快
            - 向こうの回線は強い
            - 環境構築が面倒
            - 環境構築で荒らせる
            - データが残って先生がうれしい
            - ストレージを気にする必要がない
                - ただし、データセットはpushできない
                    - Googleドライブに保管？
                        - 毎度の認証がだるい
                    - 作業ディレクトリの外に保管？
- 研究室PCの環境構築
    - [日本語に対応](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&cad=rja&uact=8&ved=2ahUKEwio7eeJrNHzAhWMBKYKHWOODoIQFnoECAUQAQ&url=https%3A%2F%2Fqiita.com%2Fcordy%2Fitems%2Fb72815148dd29c3d4bde&usg=AOvVaw2sRyMtEOcosl2eRKq-UqEX)
        - 日本語Mozcを設定
    - フォルダの英語化
    - [VSCode](https://qiita.com/yoshiyasu1111/items/e21a77ed68b52cb5f7c8)
    - 記事データの転送
        - ファイヤウォールで海外サイトからダウンロードができなかった
        - Googleドライブ経由で転送した
- データの前処理
    - Libre
        - データの特性のチェック
        - D行に溢れてないかチェック
            - COUNTA関数
        - 全行のmin lengthが0や極端に短くなっていないか確認
            - =INDEX(A2:A11,MATCH(MIN(LEN(A2:A11)),LEN(A2:A11),0))
        - CRLF・タブの除去
            - 日本
                - \nは12563件
                - \rは11872件
                - \tは1件
            - インド
                - \nは1126件
                - \rは2件
                - \tは8件
            - 韓国
                - 0件
            - イギリス
                - 0件
        - 本文の列のみのCSVファイルの作成
            - 新規Libreにコピー
        - 英数字・ピリオド・空白以外の除去（カンマは除去）
        - 連続した空白の除去
        - ピリオドの前後の空白を除去
        - 小文字化
        - データの見直し
        - BOMなしの1列のCSVに保存？
            - 空行チェックはソート機能で
                - 空行でない行は削除
                - ExcelではD列に溢れていたのがLibreでは溢れず
    - 気付き
        - ハングルが入っている
            - 除去するとごっそりなくなる
    - Excelが遅かったため、研究室PCにLibreOffice行った
